//! –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash
console.warn("–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Lodash: \n https://lodash.com");
console.warn("–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash: \n https://www.jsdelivr.com/package/npm/lodash");
console.warn("–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash —á–µ—Ä–µ–∑ CDN: \n https://cdnjs.com/libraries/lodash.js");

//? ‚ú¥Ô∏è CDN (Content Delivery Network) -
//? —Ü–µ –≥–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ –º–µ—Ä–µ–∂–µ–≤–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞,
//? —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫—É –¥–æ—Å—Ç–∞–≤–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
//? –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –≤–µ–±-—Å–µ—Ä–≤—ñ—Å—ñ–≤ —ñ —Å–∞–π—Ç—ñ–≤.
//? –°–µ—Ä–≤–µ—Ä–∏, —â–æ –≤—Ö–æ–¥—è—Ç—å –¥–æ —Å–∫–ª–∞–¥—É CDN,
//? –≥–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω–æ —Ä–æ–∑—Ç–∞—à–æ–≤—É—é—Ç—å—Å—è —Ç–∞–∫–∏–º —á–∏–Ω–æ–º,
//? —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
//? —Å–∞–π—Ç—É/—Å–µ—Ä–≤—ñ—Å—É –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º.
//? ‚ú≥Ô∏è –ü—ñ–¥–∫–ª—é—á–∏–º–æ –¥–æ –ø—Ä–æ–µ–∫—Ç—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É Lodash —á–µ—Ä–µ–∑ CDN.
//? –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ —Å–µ—Ä–≤—ñ—Å cdnjs.com
//? —ñ –¥–æ–¥–∞–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∫—Ä–∏–ø—Ç –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ –≤ –∫—ñ–Ω—Ü—ñ HTML-–¥–æ–∫—É–º–µ–Ω—Ç–∞
console.log(
    `%c
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
        integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">
    </script>
    `,
    'color: blue; font-size: 18px',
);
console.log("-------------------------------------------------------------------");


//! –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
console.warn("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)): \n https://lodash.com/docs/4.17.15");
console.log("");


//todo: ‚ÄúMath‚Äù Methods --> (_.add(augend, addend))
console.log(
    '%c ‚ÄúMath‚Äù Methods --> (_.add(augend, addend)) ',
    'color: white; background-color:rgb(0, 136, 100)',
);
console.warn("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash (‚ÄúMath‚Äù Methods --> (_.add)): \n https://lodash.com/docs/4.17.15#add");
//? ‚ú≥Ô∏è –¶–µ–π –º–µ—Ç–æ–¥ –¥–æ–¥–∞—î –¥–≤–∞ —á–∏—Å–ª–∞ (—Ä–∞—Ö—É—î —Å—É–º—É –¥–≤–æ—Ö —á–∏—Å–µ–ª).
const sum = _.add(10, 5);
console.log("sum:", sum); //! 15
const sum1 = _.add(12, 24);
console.log("sum1:", sum1); //! 36
console.log(". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .");


//todo: ‚ÄúObject‚Äù Methods --> (_.findKey(object, [predicate=_.identity]))
console.log(
    '%c ‚ÄúObject‚Äù Methods --> (_.findKey(object, [predicate=_.identity])) ',
    'color: white; background-color:rgb(0, 136, 100)',
);
console.warn("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash (‚ÄúObject‚Äù Methods --> (_.findKey): \n https://lodash.com/docs/4.17.15#findKey");
//? ‚ú≥Ô∏è –¶–µ–π –º–µ—Ç–æ–¥ –ø–æ–¥—ñ–±–Ω–∏–π –¥–æ _.find, 
//? –∑–∞ –≤–∏–Ω—è—Ç–∫–æ–º —Ç–æ–≥–æ, —â–æ –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î –∫–ª—é—á –ø–µ—Ä—à–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, 
//? –¥–ª—è —è–∫–æ–≥–æ –ø—Ä–µ–¥–∏–∫–∞—Ç –ø–æ–≤–µ—Ä—Ç–∞—î truthy for, –∞ –Ω–µ —Å–∞–º –µ–ª–µ–º–µ–Ω—Ç.
const users = {
    barney: { 'age': 36, 'active': true },
    fred: { 'age': 40, 'active': false },
    pebbles: { 'age': 1, 'active': true }
};
console.log("–í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å, –¥–µ age < 40:", _.findKey(users, function (o) { return o.age < 40; })); //! 'barney' (–ø–æ—Ä—è–¥–æ–∫ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ)
console.log(". . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .");


//todo: ‚ÄúString‚Äù Methods --> _.startCase([string=""])
console.log(
    '%c ‚ÄúString‚Äù Methods --> _.startCase([string=""]) ',
    'color: white; background-color:rgb(0, 136, 100)',
);
console.warn("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash (‚ÄúString‚Äù Methods --> (.startCase): \n https://lodash.com/docs/4.17.15#startCase");
//? ‚ú≥Ô∏è –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ä—è–¥–æ–∫ –Ω–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Ä–µ–≥—ñ—Å—Ç—Ä..
const startCase = document.getElementById("start-case");
console.log("startCase:", startCase);

let startCaseTextContent = startCase.textContent;
console.log("startCase.textContent:", startCaseTextContent);

const NewStartCaseTextContent = _.startCase(startCaseTextContent);
console.log("_.startCase(startCase.textContent):", NewStartCaseTextContent);

startCase.textContent = NewStartCaseTextContent;
console.log("-------------------------------------------------------------------");
console.log(
    '%c 2.–ë–∞–ª–∞–∫—É—á—ñ –ø–æ–¥—ñ—ó (Chatty events) ',
    'color: white; background-color: #D33F49',
);

//! –ë–∞–ª–∞–∫—É—á—ñ –ø–æ–¥—ñ—ó (Chatty events)
console.warn("–ë–∞–ª–∞–∫—É—á—ñ –ø–æ–¥—ñ—ó (Chatty events)‚Äã:");
//? ‚ú≥Ô∏è –î–æ—Å–∏—Ç—å —á–∞—Å—Ç–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –∑–º—ñ–Ω—É —Ä–æ–∑–º—ñ—Ä—É –≤—ñ–∫–Ω–∞,
//? —Å–∫—Ä–æ–ª, –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –º–∏—à—ñ –∞–±–æ —Ç–µ–∫—Å—Ç–æ–≤–µ –≤–≤–µ–¥–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
//? –¶–µ –º–æ–∂–µ –±—É—Ç–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó —ñ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤,
//? –∞–Ω—ñ–º–∞—Ü—ñ—è –µ–ª–µ–º–µ–Ω—Ç–∞, –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó –∑ DOM-–¥–µ—Ä–µ–≤–æ–º —Ç–∞ —ñ–Ω—à–µ.
//? –í—Å–µ —Ü–µ –ø–æ–∫—Ä–∞—â—É—î UX (user experience), –∞–ª–µ, –Ω–∞ –∂–∞–ª—å,
//? –º–∞—î –≤–µ–ª–∏–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±—Ä–∞—É–∑–µ—Ä, –æ—Å–∫—ñ–ª—å–∫–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
//? —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ.
//? –¢–∞–∫—ñ –ø–æ–¥—ñ—ó –Ω–µ–æ—Ñ—ñ—Ü—ñ–π–Ω–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å –ë–∞–ª–∞–∫—É—á—ñ –ø–æ–¥—ñ—ó (¬´chatty events¬ª).


//! –ü–æ–¥—ñ—è "scroll"
console.warn('–ü–æ–¥—ñ—è "scroll‚Äã:');
//? ‚ú≥Ô∏è –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –¥–æ–¥–∞—Ç–∏ —Å–ª—É—Ö–∞—á–∞ –ø–æ–¥—ñ—ó –¥–æ —Å–∫—Ä–æ–ª—É, 
//? —Ç–æ –ø—ñ–¥ —á–∞—Å –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –º–∏—à–∫–æ—é 
//? –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –±–ª–∏–∑—å–∫–æ 30 –ø–æ–¥—ñ–π –Ω–∞ —Å–µ–∫—É–Ω–¥—É. 
//? –ü–æ–≤—ñ–ª—å–Ω–µ –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è (—Å–≤–∞–π–ø) —É —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ñ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ 
//? –¥–æ 100 –ø–æ–¥—ñ–π –Ω–∞ —Å–µ–∫—É–Ω–¥—É. 
//? –Ø–∫—â–æ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó —Å–∫—Ä–æ–ª—É –≤–∏–∫–æ–Ω—É—î –≤–∞–∂–∫—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è 
//? —Ç–∞ —ñ–Ω—à—ñ DOM-–º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó, –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ 
//? –≤–∏–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é.
const output = document.querySelector(".output");
let scrollEventCounter = 0;

document.addEventListener("scroll", () => {
    scrollEventCounter += 1;
    output.textContent = scrollEventCounter;
    console.log("scrollEventCounter:", scrollEventCounter); //!
});
console.log("-------------------------------------");

//! Throttle (–æ–±–º–µ–∂—É–≤–∞—á —á–∞—Å—Ç–æ—Ç–∏)
console.warn(`Throttle‚Äã‚Äã: \n ${((window.location.href).split('/')).slice(0, -2).join('/') + '/'}${"lesson-FE4_02/images/throttle.png"}`);
//? ‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è Throttle - —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –Ω–µ —á–∞—Å—Ç—ñ—à–µ,
//?     –Ω—ñ–∂ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –∑–∞–¥–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª —á–∞—Å—É N,
//?     –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø–æ–¥—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —á–∞—Å—Ç—ñ—à–µ.
//? üìå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Throttle:
//? üî∏ –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—è.
//? üî∏ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –º–∏—à—ñ.
//? üî∏ –û–±–º–µ–∂–µ–Ω–Ω—è —á–∞—Å—Ç–æ—Ç–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω—å.

//? ‚ú¥Ô∏è –ü—Ä–∏–π–æ–º throttle –∫–æ–Ω—Ç—Ä–æ–ª—é—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–∞–∑—ñ–≤,
//? —è–∫—É —Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –ø—Ä–æ—Ç—è–≥–æ–º –ø–µ–≤–Ω–æ–≥–æ –ø—Ä–æ–º—ñ–∂–∫—É —á–∞—Å—É.
//? –¢–æ–±—Ç–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –Ω–µ —á–∞—Å—Ç—ñ—à–µ
//? –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—É –∑–∞ N –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥, –≥–∞—Ä–∞–Ω—Ç—É—é—á–∏ —ó—ó —Ä–µ–≥—É–ª—è—Ä–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
//? ‚ú≥Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ throttle, –º–∏ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—é—î–º–æ,
//? —è–∫ —á–∞—Å—Ç–æ –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–æ–¥—ñ—ó.
//? –ú–∏ –≤—Å—å–æ–≥–æ-–Ω–∞-–≤—Å—å–æ–≥–æ –±–µ—Ä–µ–º–æ –∫–æ–Ω—Ç—Ä–æ–ª—å
//? –Ω–∞–¥ —á–∞—Å—Ç–æ—Ç–æ—é –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ–¥—ñ—ó.
//? ‚ú≥Ô∏è –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Lodash
//? –æ—á—ñ–∫—É—î –ø–µ—Ä—à–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —Ñ—É–Ω–∫—Ü—ñ—é,
//? —è–∫—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ ¬´–∑–∞–≥–∞–ª—å–º—É–≤–∞—Ç–∏¬ª,
//? –∞ –¥—Ä—É–≥–∏–º - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥.
//? –ü–æ–≤–µ—Ä—Ç–∞—î –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –≤ —Å–ª—É—Ö–∞—á –ø–æ–¥—ñ—ó.
// todo: –ë–µ–∑ Throttle
document.addEventListener(
    "scroll",
    () => {
        console.log("–í–∏–∫–ª–∏–∫ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏");
    }
);
// todo: –ó Throttle
document.addEventListener(
    "scroll",
    _.throttle(() => {
        console.log("–í–∏–∫–ª–∏–∫ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–æ–∂–Ω—ñ 300ms");
    }, 300)
);
console.log("-----------------------------------------------------------");

//! Input (with debounce)
console.warn("Input (with debounce)‚Äã:");
const input = document.querySelector(".input");
console.log("input:", input); //!
//todo: –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—É –±–µ–∑ debounce
// input.addEventListener("input", () => {
//     console.log("–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—É –±–µ–∑ debounce:", input.value);
// });
//todo: –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—É –∑ debounce
input.addEventListener("input", _.debounce(() => {
    console.log("–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—É –∑ debounce:", input.value);
}, 500));