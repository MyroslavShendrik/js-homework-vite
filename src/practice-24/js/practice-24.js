//! –í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ loading="lazy")
console.warn('–í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ loading="lazy"):');
//? ‚ú¥Ô∏è –í—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (lazy-loading)
//? - —Ü–µ –ø—Ä–∏–π–æ–º, —è–∫–∏–π –≤—ñ–¥–∫–ª–∞–¥–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
//? –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏.
//? –ó–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ, —Ü—ñ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
//? –ª–∏—à–µ —É —Ä–∞–∑—ñ –ø–æ—Ç—Ä–µ–±–∏.
//? –¶–µ –∑–Ω–∏–∂—É—î –ø–æ—á–∞—Ç–∫–æ–≤—É –≤–∞–≥—É —Ä–µ—Å—É—Ä—Å—ñ–≤,
//? —è–∫—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏,
//? –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
//? –ø—ñ–¥–≤–∏—â—É—î —á–∞—Å —ó—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É.
//? –í—Å–µ —Ü–µ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
//?     üìå –ù–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –ª–µ–¥–∞—á–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–∏–≥–ª—è–¥–∞—î –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞–∫:
//? üî∏ –í–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—î—Ç–µ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —ñ –ø–æ—á–∏–Ω–∞—î—Ç–µ –ø—Ä–æ–∫—Ä—É—á—É–≤–∞—Ç–∏ —ó—ó, —á–∏—Ç–∞—é—á–∏ –≤–º—ñ—Å—Ç.
//? üî∏ –£ —è–∫–∏–π—Å—å –º–æ–º–µ–Ω—Ç –≤–∏ –ø—Ä–æ–∫—Ä—É—á—É—î—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è - –∑–∞–≥–ª—É—à–∫–∏.
//? üî∏ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è - –∑–∞–≥–ª—É—à–∫–∞ —Ä–∞–ø—Ç–æ–≤–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ —Å–ø—Ä–∞–≤–∂–Ω—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.


//! –ê—Ç—Ä–∏–±—É—Ç loading
//? ‚ú¥Ô∏è –°—É—á–∞—Å–Ω—ñ –±—Ä–∞—É–∑–µ—Ä–∏ –≤–º—ñ—é—Ç—å —Ä–æ–±–∏—Ç–∏ —Ü–µ
//? –±–µ–∑ JavaScript, –∞–ª–µ, –Ω–∞ –∂–∞–ª—å, –Ω–µ –≤—Å—ñ.
//? HTML-–∞—Ç—Ä–∏–±—É—Ç loading —Ç–µ–≥—É <img> –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –Ω–∞—Ç–∏–≤–Ω–æ
//? —É –≤—Å—ñ—Ö —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –∫—Ä—ñ–º, –º–æ–∂–ª–∏–≤–æ, Safari,
//? —ñ –¥–æ–∑–≤–æ–ª—è—î –±—Ä–∞—É–∑–µ—Ä—É –≤—ñ–¥–∫–ª–∞—Å—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
//? –∑–∞ –∫–∞–¥—Ä–æ–º –¥–æ—Ç–∏, –¥–æ–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –¥–æ –Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–∫—É.
//?     üìå –ü—ñ–¥—Ç—Ä–∏–º—É—î —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–Ω—è:
//? üî∏ "lazy" - –±—Ä–∞—É–∑–µ—Ä –≤–∏–∫–æ–Ω–∞—î –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.
//? üî∏ "eager" - –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±—É–¥–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–µ –∑–∞ –ø–µ—Ä—à–æ—ó –Ω–∞–≥–æ–¥–∏,
//?    —Ç–æ–±—Ç–æ –±–µ–∑ –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
//? üî∏ "auto" (–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) - –±—Ä–∞—É–∑–µ—Ä —Å–∞–º –≤–∏–∑–Ω–∞—á–∞—î
//?    —á–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∏ –Ω—ñ.
console.log(
    `%c
    <img
        src="./my-image.jpg"
        alt="Image description"
        loading="lazy"
    />
    `,
    'color: blue; font-size: 18px',
);
//? ‚ú≥Ô∏è –£ –≤–∫–ª–∞–¥—Ü—ñ Network –≤ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞
//? –≤–∏–±–µ—Ä—ñ—Ç—å —Ñ—ñ–ª—å—Ç—Ä Img, —â–æ–± –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –ª–∏—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å.
//? –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–∫—Ä—É—á—É–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ —ñ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ
//? —è–∫ –±—É–¥—É—Ç—å –¥–æ–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è –∑–∞–∫–∞–¥—Ä–æ–≤—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ—Ç—ñ–≤.
//? –ë—Ä–∞—É–∑–µ—Ä–∏, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å –∞—Ç—Ä–∏–±—É—Ç loading,
//? –±—É–¥—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–æ,
//? –∞ –±—Ä–∞—É–∑–µ—Ä–∏ –±–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ - –∑–∞–≤–∞–Ω—Ç–∞–∂–∞—Ç—å —É—Å—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥—Ä–∞–∑—É.
console.log("-------------------------------------------------------------------");
//! –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Intersection Observer
console.warn("–ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Intersection Observer:");
const target = document.getElementById("target");
const scrollContainer = document.getElementById("scrollContainer");
console.log("scrollContainer:", scrollContainer); //!

const observer = new IntersectionObserver(
    (entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                console.log("–ï–ª–µ–º–µ–Ω—Ç –≤–∏–¥–Ω–æ!");
                target.style.background = "lightgreen";
            } else {
                console.log("–ï–ª–µ–º–µ–Ω—Ç –ø—ñ—à–æ–≤ —ñ–∑ –∑–æ–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç—ñ...");
                target.style.background = "yellow";
            }
        }
        );
    },
    {
        root: null,
        // root: scrollContainer, //! –í–Ü–î–ö–†–ò–¢–ò (—ñ –≤ CSS) –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è "box-target" —É –≤—ñ–∫–Ω—ñ [scrollContainer]
        threshold: 0.5, //todo: –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ 50% –æ–±'—î–∫—Ç–∞ –≤–∏–¥–Ω–æ
        // threshold: [0, 0.25, 0.5, 0.75, 1], ////todo: –ü–µ—Ä–µ—Ä–∞—Ö—É–Ω–æ–∫ –ø–µ—Ä–µ—Ç–∏–Ω—É root –∫–æ–∂–Ω–æ—ó —á–≤–µ—Ä—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ.
        //! –ü–†–ò–•–û–í–ê–¢–ò (—ñ –≤ CSS) –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è "box-target" —É –≤—ñ–∫–Ω—ñ [scrollContainer]
        rootMargin: '0px 0px -50% 0px'  //todo: –ó–Ω–∏–∑—É –∑–º–µ–Ω—à–∏–ª–∏ –∑–æ–Ω—É –Ω–∞ 50% –≤–∏—Å–æ—Ç–∏ –≤'—é–ø–æ—Ä—Ç—É
    }
);

console.log("observer:", observer); //!

observer.observe(target); //todo: –î–æ–¥–∞—î –µ–ª–µ–º–µ–Ω—Ç –¥–æ —Å–ø–∏—Å–∫—É –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
